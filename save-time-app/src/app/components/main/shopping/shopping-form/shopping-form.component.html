<app-dropzone (dropped)="handleDropReceipt($event)" [config]="receiptConfig" *ngIf="!isLoadingSettings">
  <div class="shopping">

    <div class="cart-header">
      <h2 class="main-colored">
        <span>Add new shopping</span>
      </h2>
      <div class="informations">
        dadsaad
      </div>
    </div>

    <div *ngIf="!salarySchema" class="empty-salary">
      <app-empty-list [header]="'Salary schema'" (clicking)="openSalarySchema()">
        Your salary schema is not set. <br>Click button bellow to set salary schema
      </app-empty-list>
    </div>

    <ng-container *ngIf="salarySchema">
      <div class="products-to-add">
        <app-table
        [isLoading]="isLoadingProducts"
        (settingChanges)="fetchProducts($event)"
        [keysTitle]="'productsToSelectKeys'"
        (rowClick)="addProductToSelected($event)"
        [items]="productsToSelect"></app-table>
      </div>

      <div class="selected-products">
        <app-table
        [tableClass]="'table-remove'" [emptyTitle]="'This table is already empty. Start selecting products'"
        [keysTitle]="'selectedProducts'" (rowClick)="removeProductFromSelected($event)"
        [enableChangingPageSize]="false" [enableFilters]="false" [enablePagination]="false"
        [title]="'Selected products'" [subTitle]="'click at row for remove product'"
        [items]="selectedProducts">
          <!-- <div class="whole-cost main-colored" *ngIf="sum > 0">
            {{sum}} z≈Ç
          </div> -->

          <div *ngIf="allItemsCountWithQuantity" class="s-footer flex-center">
            <span class="main-colored">{{allItemsCountWithQuantity}} items</span>

            <div class="s-footer-operations">
              <button (click)="clearSelectedProducts()" class="label-btn-thin danger-color">
                CLEAR ALL
              </button>
            </div>

          </div>
        </app-table>
      </div>
    </ng-container>

    <footer>
      <button class="main-btn-md">
        CONTINUE
      </button>
    </footer>
  </div>

</app-dropzone>


<app-spinner *ngIf="isLoadingSettings" [classes]="'spinner-big'" [containerClasses]="'spinner-centered'"></app-spinner>
