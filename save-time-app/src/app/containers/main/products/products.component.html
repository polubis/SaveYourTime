<div class="grid-wrap">
  <div class="cart-header">
    <h2 class="main-colored">Products added by you</h2>

  </div>

  <div class="products-list">
    <div *ngIf="products.length === 0; else productsList">
      <app-empty-list (clicking)="togleModals()" [header]="isCategoriesAdded ? 'Products' : 'Categories'">
        <ng-container *ngIf="isCategoriesAdded">
          Looks like your product list is empty. <br> If you want add
          new one click button bellow
        </ng-container>
        <ng-container *ngIf="!isCategoriesAdded">
          You must add category of product firstly. <br> If you want add new one
          and unlock adding products click button bellow
        </ng-container>
      </app-empty-list>
    </div>

    <app-products-cart #productsList
    (deleting)="togleDeleteModal(product)"
    (editing)="togleEditModal(product)"
    *ngFor="let product of products" [classes]="'small-cart-products'"
    [product]="product">

    </app-products-cart>
  </div>
</div>

<app-modal *ngIf="productToEdit || addProductModal" [classes]="'m-w-center product-modal'"
(closing)="togleEditModal(null)">
  <header class="modal-header flex-center">
    <i class="material-icons">store</i>
    <span>{{productToEdit ? 'Edit selected product' : 'Add new product'}}</span>
  </header>

  <app-product-form *ngIf="productToEdit" [elementToEdit]="productToEdit"></app-product-form>
  <app-product-form *ngIf="addProductModal"></app-product-form>
</app-modal>

<app-confirm *ngIf="productToDelete" [header]="'Are you sure you want delete selected product ?'" [subHeader]="'This procedure is permanent and cannot be denied after confirm'"
 (closing)="togleDeleteModal(null)" (confirming)="deleteProduct()">
 <app-spinner *ngIf="isDeletingProduct" [backdrop]="true" [classes]="'spinner-big'" [containerClasses]="'spinner-centered'"></app-spinner>
</app-confirm>


<app-modal *ngIf="addCategoryModal" [classes]="'m-w-center product-modal'" (closing)="togleCategoryModal()">
  <header class="modal-header flex-center">
    <i class="material-icons">store</i>
    <span>Create new product category</span>
  </header>
  <app-product-category-form>

  </app-product-category-form>
</app-modal>
